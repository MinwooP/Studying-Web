## SPA

Single Page Application

하나의 페이지로 구성된 웹 어플리케이션을 의미하며, 

헤더는 고정되어있고, 헤더의 메뉴를 선택함에 따라 메인 화면 부분이나 클릭한 부분만 바뀌는 웹 사이트들이 SPA의 대표적인 예시이다. 

<br><br>

## MPA

Multi Page Application

탭을 이동할 때마다 서버로부터 새로운 html을 새로 받아와서 페이지 전체를 새로 렌더링하는 전통적인 웹 페이지 구성 방식 

여전히 MPA를 사용하는 사이트들이 있기는 하지만, MAP는 여러 단점들이 있기 때문에 AJAX가 등장하고나서부터는 SPA를 주로 사용하게 되었음

<br><br>

## SPR vs MPA

+ SPA의 **페이지 구성방식**에서는 **렌더링 방식**으로 CSR을 사용하고, 페이지 구성방식이 MPA라면 렌더링 방식을 SSR로 사용한다. 

+ SPA는 웹 어플리케이션에 필요한 정적 리소스를 초반 한번에 모두 다운로드 하고, 이 후 새로운 페이지 요청이 있을 때, 페이지 갱신에 필요한 data만 전달 받아서 클라이언트에서 페이지를 갱신하기 때문에 자연스럽게 렌더링 방식으로 CSR을 사용하게 되고, MPA는 새로운 요청이 있을 때마다 서버에서 이미 렌더링된 정적 리소스를 받아오기 때문에, 렌더링 방식으로 SSR을 사용한다. 

  EX) 리액트, 뷰, 앵귤러 사용 => SPA 구성 => CSR 사용

+ 하지만, SPA와 CSR이 같은 개념은 아니다

  => SPA는 페이지 구성 방식의 종류이고, 페이지가 몇개로 이루어져 있느냐에 대한 것이고, CSR은 렌더링을 어디서 하느냐에 대한 개념이다. 

  => SPA를 구현하기 위해 CSR이 사용되는 것.

+ CSR이 가장 좋은 방식인가 ? 

  > 생각해보기

<br><br>

## CSR vs SSR 

 Client와 Server 중 어느쪽(Side)에서 rendering을 준비하느냐에 따라 구분

> SSG
>
> Static Site Generation으로, Static Rendering 이라고 불림
>
> **서버에서 html을 보내준다**는 측면에서는 SSR과 유사하지만, **언제 만들어 두느냐**에 따라서 구분
>
> + SSR : **요청할 때 즉시** 만든다 => 데이터가 달라져서 미리 만들어두기 어려운 페이지에 적합
> + SSG : html 페이지들을 서버에서 **미리 만들어 둔 뒤에** 요청 시에 해당 페이지를 응답하는 것이기 때문에 바뀔 일이 거의 없는 페이지에 적합

<br><br>

#### CSR의 동작 과정과 특징 

![image-20230504174219261](C:\Users\alsd2\AppData\Roaming\Typora\typora-user-images\image-20230504174219261.png)

사용자가 웹 사이트 접속

=> 브라우저는 서버에게 콘텐츠 요청

=> 서버는 **빈 뼈대만 있는 HTML**을 응답으로 보내준다

=> 브라우저가 연결된 JS링크를 통해 서버로부터 **JS 파일을 다운로드** 받고, **JS를 이용해 동적으로 페이지를 만들어서** 브라우저에 띄워준다. 

<br>

+ 브라우저가 JS 파일을 다운로드 받아 동적으로 페이지를 만들어서 띄운다는 점 

  => JS 파일을 다운로드받고 동적으로 DOM을 생성하는 시간을 기다려야 하기 때문에 초기 로딩 속도가 느림

  => 하지만 이후 페이지의 일부를 변경할 때는 서버에 해당 데이터만 요청하기 되기 때문에 이후 구동속도는 빠르다.

<br>

+ 서버가 빈 뼈대만 있는 HTML을 넘겨주기만 하면 된다는 점

  => 서버 측에 부하가 적음 

<br>

+ 웹 크롤러 봇 입장에서 본 HTML은 텅텅 비어있기 때문에 검색 엔진이 색인을 할 만한 콘텐츠가 존재하지 않음 

  => CSR은 검색 엔진 최적화에 불리

<br><br>

#### SSR의 동작 과정과 특징

![image-20230504174108544](C:\Users\alsd2\AppData\Roaming\Typora\typora-user-images\image-20230504174108544.png)

사용자가 웹 사이트 접속

=> 브라우저는 서버에게 콘텐츠 요청

=> 서버는 즉시 페이지에 필요한 데이터를 얻어와 모두 삽입하고 CSS까지 모두 적용해서 **렌더링 준비를 마친 HTML과 JS code를 응답으로 전달**한다. 

=> 브라우저는 바로 전달받은 page를 띄우고, JS code를 다운로드해서 HTML과 JS 로직을 연결 

<br>

+ 서버에서 렌더링 준비를 마친 HTML을 응답으로 전달한다는 점 

  => 모든 data가 이미 html 에 담겨진 채로 브라우저에 전달되므로 검색 엔진 최적화에 유리

<br>

+ JS를 다운로드 해 연결하기 전에 사용자가 화면을 볼 수 있다는 점 

  => JS 다운로드를 기다려야했던 CSR보다 초기 구동속도가 빠름

  => 이것이 단점이 되기도 하는데, 이 시점에는 사용자가 버튼을 클릭하거나 이동하려고 해도 아무런 반응이 없을 수 있음 

  => TTV(time to view)와 TTI(time to Interact) 간의 시간 간격이 존재함.

<br><br>

#### CSR과 SSR의 장단점

![image-20230504174443375](C:\Users\alsd2\AppData\Roaming\Typora\typora-user-images\image-20230504174443375.png)

<br><br>

## 참고

+ https://www.youtube.com/watch?v=YuqB8D6eCKE
+ https://www.youtube.com/watch?v=C6uELkDh-60 ⭐⭐

+ https://www.youtube.com/watch?v=vM_zQLnlyKw





> Fetch도 AJAX의 일종인가 ? 

> 렌더링과 라우팅의 차이

